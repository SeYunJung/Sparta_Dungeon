<div align="center">
<h2> 🎮 스파르타 던전 탐험 프로젝트 🎮 </h2>
<img width="752" height="417" alt="image" src="https://github.com/user-attachments/assets/d7b0634d-85e7-4466-9a73-278803e7106f" />
<p>
<b>'스파르타 던전'</b>은 작은 숲 속에서 아이템을 먹고, 발판에서 점프하고, 발판으로 이동할 수 있는 게임입니다.
</p>
</div>

## 목차
  - [개요](#개요) 
  - [게임 설명](#게임-설명)
  - [게임 플레이 방식](#게임-플레이-방식)
  - [게임 시연](#게임-시연)
  - [필수 기능](#필수-기능)
  - [도전 기능](#도전-기능)
  - [핵심 기능](#핵심-기능)
  - [트러블 슈팅](#트러블-슈팅)
  - [프로젝트 회고](#프로젝트-회고)

<br>

## 개요
캐릭터 이동과 물리 처리를 직접 구현한 3D 게임 (기능 구현 프로젝트)
- 게임 이름: 스파르타 던전(Sparta Dungeon)
- 장르 : 플랫폼
- 특징 : 캐릭터 이동 및 점프, 체력바 UI, 점프대, 동적 환경 조사, 아이템 데이터 관리, 아이템 사용
- 프로젝트 기간: 2025.08.06 - 2025.08.13
- 개발 언어: C#, Unity(2022.3.17f1)

<br>

## 게임 설명
|![image](https://github.com/user-attachments/assets/d7b0634d-85e7-4466-9a73-278803e7106f)|![image](https://github.com/user-attachments/assets/379772a6-dd32-4908-ae42-e1a1c4787413)|
|:---:|:---:|
|시작 화면|인벤토리|

<b>'스파르타 던전'</b>에서는 다양한 아이템을 획득해서 플레이어에게 능력치를 부여할 수 있습니다.


<br>

## 게임 플레이 방식
- (조작법)
  <p>캐릭터 조작법 : WASD로 이동</p>
  <p>상호작용 : E키 입력</p>
  <p>인벤토리 열기 : I키 입력</p>
- (이벤트 발생 장소)
  <p>점프대 : 3시 방향 발판</p>
  <p>이동하는 발판 : 9시 방향 발판</p>

<br>

## 게임 시연
![다양항 아이템_gif](https://github.com/user-attachments/assets/2a991a4a-81a5-42fd-a971-1db45ed04e8d)
![MiniGame](https://github.com/user-attachments/assets/b258c353-0ab0-4b7b-95cc-2f914daeccf6)
![Leader Board](https://github.com/user-attachments/assets/acebb684-ac02-4a24-aad1-b4d24194173c)
<br>


## 필수 기능
(기본 이동 및 점프)
<p>플레이어 이동, 점프 설정</p>

<br>
(체력바 UI)
<p>체력바UI 추가하고 플레이어의 체력을 나타내도록 설정</p>
<p>플레이어 체력이 변할 때마다 체력바UI를 갱신</p>

<br>
(동적 환경 조사)<br>
<p>플레이어가 조사하는 오브젝트 정보를 UI에 표시(Raycast 활용)</p>
&nbsp;

(점프대)
<p>밟을 때 위로 높이 튀어 오르는 점프대 구현 (OnCollisionEnter, ForceMode.Impulse 활용)</p>
&nbsp;

(아이템 데이터)
<p>아이템 데이터를 ScriptableObject로 정의</p>
<p>아이템 이름, 설명, 속성을 ScriptableObject로 관리</p>
&nbsp;

(아이템 사용)
<p>특정 아이템 사용 후 일정시간 동안 효과가 지속되는 시스템 구현 (스피드 증가, 무한점프)</p>
&nbsp;

## 도전 기능
(추가 UI)
<p>점프, 대쉬 등 특정 행동 시 소모되는 스태미나를 표현하는 바 구현 (스태미나, 스피드 UI 구현)</p>
&nbsp;

(3인칭 시점)
<p>1인칭 시점을 3인칭 시점으로 변경할 수 있게 설정</p>
&nbsp;

(움직이는 플랫폼 구현)
<p>시간에 따라 정해진 구역을 움직이는 발판 구현</p>
<p>플레이어가 발판 위를 이동할 때 자연스럽게 따라가도록 설정</p>
&nbsp;

(다양한 아이템 구현)
<p>추가 아이템 구현 (꽃2 : 무한점프)</p>
&nbsp;

## 핵심 기능
- 씬 어디서든 사용할 수 있어야 할 클래스를 싱글톤 패턴으로 구현
- 자식 클래스가 (관리)매니저 클래스에 접근해 필요한 정보를 찾을 수 있게 구현
- ScriptableObject로 아이템 정보를 통합관리
- 클래스별 역할을 명확히 구분 (단일 책임 원칙)

<br><br>

## 트러블 슈팅
- 게임 실행 전과 게임 실행 후의 조명이 달랐던 현상 -> Lighting Environment에서 Auto Generate를 껐다가 키니 해결
- Input System으로 이동 처리 입력을 Vector2로 정의해놓고 스크립트에서는 Vector3로 입력받아서 에러가 남 -> 코드에서 Vector2로 입력받게 수정
- 캐릭터가 앞뒤로 이동하지 않는 현상 -> 3D게임에서 앞뒤 이동은 z축인데 y축으로 앞뒤 이동처리를 하고 있었음. z축으로 앞뒤 이동처리를 하도록 수정
- 점프가 안되는 현상 -> 땅에 닿았는지 확인하는 메서드에서 Ray를 잘못 체크하고 있어서 발생한 문제. 내 캐릭터 위치에 맞게 Ray 시작점을 수정해줬더니 해결됨. 땅에 닿았는지 체크가 원활하게 됨.
- curValue / maxValue 식을 왜 사용하는지 이해가 안됨. -> fillAmount값을 채워주는 식. fillAmount는 0에서 1사이 값만 가지기 때문에 현재 값을 최대 값으로 나눈 0~1사이 값을 사용해야 함.
- 1인칭에서 플레이어를 위아래로 움직이면 캐릭터가 3인칭으로 보이는 현상 -> 카메라의 Culling Mask에 Player 레이어는 촬영할 수 없게 수정했더니 1인칭인데 3인칭으로 보이던 현상 해결.
- 다운받은 에셋에 3D 모델링 오브젝트만 있어서 인벤토리에서 보여줄 2D 이미지가 없음 -> 캡처용 씬을 새로 만들어서 아이템을 캡처 후 크기를 통일해서 2D이미지로 사용함.
- 슬롯에 접근시 에러가 나는 현상 -> 슬롯 아이템에 접근해서 세팅하는 코드가 있었음. 슬롯 아이템에 접근해서 세팅해야 하는데 슬롯에 접근해서 세팅하도록 코드를 짜놓아서 에러가 남. 슬롯 아이템에 접근해서 아이템을 세팅할 수 있도록 수정.
- 발판과 플레이어가 따로 이동하는 현상, 발판 위에 올라갔을 때 플레이어가 2D가 되는 현상 -> 빈 오브젝트를 만들고 그 하위에 Player를 뒀더니 해결됨. 

<br><br>

## 프로젝트 회고 
3D 프로젝트를 처음부터 끝까지 만들어보는건 처음이라서 어려웠던 것도 있지만 혼자서 만들 수 없으니 참고 자료를 이해하고 사용하는 과정이 좀 어려웠던 것 같았다. 
주입식으로 학습한다는 느낌이 많이 들긴 했지만, 다양한 소스를 보면서 나만의 코드 스타일을 찾아가는 과정이라고 생각하고 학습에 임했다. 
단순히 구현하는 것은 구글에서 찾아보거나 강의 자료를 본다면 어떻게든 만드는 것 같다. 그러나 구조를 잡아서 효율적으로 코드를 짜는 건 아직 많이 부족한 것 같다. 시간이 날때 코드구조를 짜는 방법을 학습해야 겠다. 
